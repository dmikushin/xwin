# XWin with MFC and debug

A utility for downloading and packaging the [Microsoft CRT](https://docs.microsoft.com/en-us/cpp/c-runtime-library/crt-library-features?redirectedfrom=MSDN&view=msvc-160) headers and libraries, and [Windows SDK](https://en.wikipedia.org/wiki/Microsoft_Windows_SDK) headers and libraries needed for compiling and linking programs targeting Windows.

This is a fork of [XWin](https://github.com/Jake-Shadle/xwin), which includes MFC and debug packages support.

This project is at the core of [Linux container for building Windows apps with Clang](https://github.com/dmikushin/clang-xwin)

## Introduction

The goal of this project is to create a root directory for both the CRT and Windows SDK that each contain all of the necessary includes and libraries needed for an application to compile and link from a non-Windows platform, using a native cross compiling toolchain like clang/LLVM. This includes adding symlinks to correct numerous casing issues in the Windows SDK so that the files generated by this program can function on a case-sensitive file system.

See this [blog post](https://jake-shadle.github.io/xwin/) for an in depth walk-through of how xwin can be used.


## Installation

XWin is distributed as a `.tar.gz` binary package. You can download a prebuilt package from the [Releases](https://github.com/dmikushin/xwin/releases).


## Building

Build and install locally for testing or development:

```
cargo build --tests --release
cargo install xwin --locked
```

Build your own release tarball with the provided Dockerfile:

```
docker build -t release-xwin .
```


## Usage

* [Dockerfile](https://github.com/dmikushin/clang-xwin/blob/master/Dockerfile) is an example `Dockerfile` that can be used to setup C/C++ build environment for Windows

* [xwin.dockerfile](xwin.dockerfile) is an example `Dockerfile` that can be used a container image capable of building and testing Rust crates targeting `x86_64-pc-windows-msvc`.

